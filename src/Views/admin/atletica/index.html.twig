{# src/Views/admin/atletica/index.html.twig #}
{% extends 'templates/admin/base.html.twig' %}

{% block title %}Gerenciar Membros da Atlética{% endblock %}

{% block content %}
<div class="flex justify-between items-center mb-6">
    <h2 class="text-2xl font-bold text-gray-800">Membros da Atlética</h2>
    <a href="{{ base_url }}/admin/atletica/create" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700">
        + Adicionar Membro
    </a>
</div>

<div class="bg-white shadow-md rounded-lg overflow-x-auto">
    <table class="w-full text-left">
        <thead class="bg-gray-200">
            <tr>
                <th class="p-4">Foto</th>
                <th class="p-4">Nome</th>
                <th class="p-4">Cargo</th>
                <th class="p-4">Ações</th>
            </tr>
        </thead>
        <tbody>
        {% for membro in membros %}
            <tr class="border-b hover:bg-gray-50">
                <td class="p-4">
                    {% set foto_url = membro.foto ? (base_url ~ '/public/' ~ membro.foto) : (base_url ~ '/public/assets/img/logos/favicon pato site.png') %}
                    <img src="{{ foto_url }}" alt="Foto de {{ membro.nome }}" class="h-12 w-12 rounded-full object-cover">
                </td>
                <td class="p-4">{{ membro.nome }}</td>
                <td class="p-4">{{ membro.cargo }}</td>
                <td class="p-4 flex space-x-2">
                    <a href="{{ base_url }}/admin/atletica/edit/{{ membro.id }}" class="bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600">Editar</a>
                    <form action="{{ base_url }}/admin/atletica/delete/{{ membro.id }}" method="POST" onsubmit="return confirm('Tem certeza que deseja deletar este membro?');">
                        <button type="submit" class="bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600">Deletar</button>
                    </form>
                </td>
            </tr>
        {% else %}
            <tr><td colspan="4" class="p-4 text-center">Nenhum membro encontrado.</td></tr>
        {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}