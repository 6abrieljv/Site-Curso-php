{# src/Views/educadores.html.twig #}
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://cdn.tailwindcss.com"></script>

    <link href="https://fonts.googleapis.com/css2?family=Pixelify+Sans:wght@400..700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap">

    <script src="https://unpkg.com/ionicons@4.5.10-0/dist/ionicons.js"></script>

    <link rel="shortcut icon" type="image/jpg" href="{{ assets }}/img/logos/favicon pato site.png"/>

    <title>NerdHub - {{ title }}</title>
</head>


<body class="font-['Pixelify_Sans'] bg-[#F5F4F4] h-screen">
    <header class="bg-[#001934]">
        <nav class="flex justify-between items-center w-[95%] m-auto">
            <div>
                {# CORREÇÃO DA LOGO: Usando logo.png para a logo principal #}
                <a href="{{ base_url }}"><img class="w-16 p-1" src="{{ assets }}/img/logos/logo.png" alt="Logo"></a>
            </div>
            <div
                class="nav-links duration-500 md:static absolute bg-[#001934] md:min-h-fit min-h-[40vh] left-0 top-[-100%] md:w-auto w-full flex items-center px-5">
                <ul class="flex md:flex-row flex-col md:items-center md:gap-[6vw] gap-6 text-white text-lg p-4">
                    {# LINKS DO MENU: A ordem e os links vêm do 'links' global definido em View.php #}
                    {# Certifique-se de que a ordem desejada está lá #}
                    {% for key, link_url in links %}
                        <li><a class="hover:text-xl hover:underline duration-300" href="{{ link_url }}">{{ key }}</a></li>
                    {% endfor %}
                </ul>
            </div>
            <div class="flex items-center gap-6">
                {# Verifica se o usuário está logado para mostrar Entrar ou Sair #}
                {% if user %}
                    <a href="{{ base_url }}/logout" class="text-lg text-white px-5 py-2 rounded-3xl hover:text-xl cursor-pointer duration-300 ease-out hover:underline active:text-[#001934]">
                        Sair ({{ user.username }})
                    </a>
                {% else %}
                    <a href="{{ base_url }}/login" class="text-lg text-white px-5 py-2 rounded-3xl hover:text-xl cursor-pointer duration-300 ease-out hover:underline active:text-[#001934]">
                        Entrar
                    </a>
                {% endif %}
                <ion-icon onclick="onToggleMenu(this)" name="menu"
                    class="text-3xl text-white cursor-pointer md:hidden"></ion-icon>
            </div>
        </nav>
    </header>

    <main>
        <section class="py-10">
            <div class="flex flex-col  items-center w-[80%] mx-auto font-[Poppins] ">
                <h1 class="text-[2.5rem] font-extralight max-sm:text-3xl max-md:text-3xl max-sm:text-center">Conheça nossos <span class="font-bold underline">educadores</span></h1>

                {# Loop sobre os educadores passados pelo controlador #}
                {% if educadores is empty %}
                    <p class="mt-10 text-xl text-gray-600">Nenhum educador cadastrado ainda.</p>
                {% else %}
                    {% for educador in educadores %}
                        <article class="flex bg-white border border-solid rounded-xl shadow-lg p-[20px] items-center gap-[20px] duration-300 hover:border-[#eeeded] hover:bg-[#eeeded] hover:shadow-[inset_1px_1px_5px_rgba(0,0,0,0.07)] hover:scale-[1.02] mt-10">
                            <div class="max-md:block max-md:text-center flex items-center gap-4">
                                {# Exibe a foto do educador, usando uma imagem padrão se não houver #}
                                <img class="shadow-[2px_2px_12px_rgba(0,0,0,0.35)] w-[220px] h-[220px] rounded-[50%] object-cover max-xl:w-[250px] max-xl:h-[250px] max-lg:w-[250px] max-lg:h-[250px] max-sm:w-[220px] max-sm:h-[220px] mx-auto md:mx-0"
                                     src="{{ educador.perfil.getFoto() ? base_url ~ '/' ~ educador.perfil.getFoto() : assets ~ '/img/default.png' }}"
                                     alt="Foto de {{ educador.perfil.getNome() }}">

                                <div class="flex flex-col ml-3 gap-2 max-md:ml-0">
                                    <header>
                                        <p class="text-2xl font-bold max-lg:text-xl max-sm:pt-3">{{ educador.perfil.getNome() }} {{ educador.perfil.getSobrenome() }}</p>
                                        <p class="italic text-base font-light max-lg:text-sm">{{ educador.perfil.getCargo() }}</p>
                                    </header>
                                    {# Divide a biografia em parágrafos se houver quebras de linha #}
                                    {% for paragraph in educador.perfil.getBio()|split("\n") %}
                                        <p class="text-sm max-lg:text-xs">{{ paragraph }}</p>
                                    {% endfor %}
                                    {# Links para GitHub e LinkedIn, se existirem #}
                                    <div class="flex gap-2 mt-2">
                                        {% if educador.perfil.getGithub() %}
                                            <a href="{{ educador.perfil.getGithub() }}" target="_blank" class="text-blue-600 hover:underline">GitHub</a>
                                        {% endif %}
                                        {% if educador.perfil.getLinkedin() %}
                                            <a href="{{ educador.perfil.getLinkedin() }}" target="_blank" class="text-blue-600 hover:underline">LinkedIn</a>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                        </article>
                    {% endfor %}
                {% endif %}

                {# Adicionar botões de paginação aqui #}
                {% if pagination is not empty %}
                    <div class="flex justify-center mt-10 space-x-2">
                        {% for page in pagination %}
                            <a href="?page={{ page.page }}"
                               class="px-4 py-2 rounded-md {% if page.current %}bg-blue-600 text-white{% else %}bg-gray-200 text-gray-700 hover:bg-gray-300{% endif %}">
                                {{ page.page }}
                            </a>
                        {% endfor %}
                    </div>
                {% endif %}

            </div>
        </section>
    </main>

    <footer class=" bg-[#001A35] text-white pt-10 pr-5 pb-10 pl-5 text-sm">
        <div class="w-[75%] flex max-sm:block max-lg:block flex-wrap justify-between gap-[30px] mx-auto">
            <section class="flex-1 basis-[200px] max-lg:py-5">
                <h3 class="text-lg text-[#1AFEAB] max-lg:text-center max-lg:text-xl">Créditos</h4>
                <p class="max-lg:text-base max-lg:text-center">Site desenvolvido por alunos da Estácio São Luís</p>
            </section>
            <section class="flex-1 basis-[200px] max-lg:py-5">
                <h3 class="text-lg text-[#1AFEAB] max-lg:text-center max-lg:text-xl">Sobre o Curso</h4>
                <p class="max-lg:text-base max-lg:text-center">Ciência da Computação - Universidade Estácio de Sá</p>
                <p class="max-lg:text-base max-lg:text-center">Campus São Luís</p>
            </section>
            <section class="flex-1 basis-[200px] max-lg:py-5">
                <h3 class="text-lg text-[#1AFEAB] max-lg:text-center max-lg:text-xl">Contato</h4>
                <address>
                    <p class="max-lg:text-base hover:underline hover:text-base duration-300 max-lg:text-center"><a href="#">Instagram da Atlética</a></p>
                    <p class="max-lg:text-base hover:underline hover:text-base duration-300 max-lg:text-center"><a href="#">Instagram da Computação Estácio Sao Luis</a></p>
                </address>
            </section>
        </div>
        <div class="text-center mt-5 border-t border-[#444] pt-7">
            <p class="text-[#ccc] italic">© 2025 - Todos os direitos reservados.</p>
        </div>
    </footer>

    <script>
        const navLinks = document.querySelector('.nav-links');
        function onToggleMenu(e) {
            e.name = e.name === 'menu' ? 'close' : 'menu';
            navLinks.classList.toggle('top-[62px]');
        }
    </script>
</body>
</html>